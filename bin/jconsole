#!/usr/bin/env jruby

require 'pp'
pp $:

Thread.abort_on_exception = true
require 'irb'
require 'thread'

# hack for delving into test-generated configurations
class AlertAndNotificationLogic; Alerts = Queue.new; end

require 'mauve/configuration'
include Mauve
#raise "must specify config file" unless ARGV.length > 0
unless ARGV.length > 0
  STDERR.print("You must specify a configuration file as $arg[1]\n")
  STDERR.print("  eg: ./mauve_starter ./bin/console ./test/local.conf\n")
  exit 1
end
Configuration.current = ConfigurationBuilder.load(ARGV.shift)
IRB.start

